# Complete LaunchDarkly Migration Workflow
# Runs all steps: extract source → map members → migrate
# This is the DEFAULT behavior if workflow.steps is not specified

# Optional: Explicitly define steps (if omitted, runs all steps by default)
# workflow:
#   steps:
#     - extract-source
#     - map-members
#     - migrate

source:
  projectKey: us-production
  domain: app.launchdarkly.com  # Optional: Defaults to app.launchdarkly.com

destination:
  projectKey: eu-production
  domain: app.launchdarkly.com  # Optional: Use app.eu.launchdarkly.com for EU instance

# Optional: Control what data to extract from source
# extraction:
#   includeSegments: true  # Uncomment to extract segments (only needed if migrateSegments: true)

# Optional: Configure member mapping output location
memberMapping:
  outputFile: data/launchdarkly-migrations/mappings/maintainer_mapping.json

# Migration configuration
migration:
  # Use the member mapping we just created
  assignMaintainerIds: true
  
  # Include segments
  migrateSegments: true
  
  # Handle conflicts
  conflictPrefix: "us-"
  
  # Organize in view
  targetView: "us-migration-2024"
  
  # Only migrate these environments
  environments:
    - production
    - staging
  
  # Map environment keys if needed
  environmentMapping:
    production: production
    staging: staging

